# p6spy is a JDBC driver proxy logging all SQLs; see pom.xml and spy.properties
spring.datasource.url=jdbc:p6spy:h2:mem:test
spring.datasource.driver-class-name=com.p6spy.engine.spy.P6SpyDriver
spring.datasource.username=sa
spring.datasource.password=sa

# enable async for selected tests
async.enabled=false

#set the target URL of the external API to the random port
# assigned to WireMock by @AutoConfigureWireMock(port = 0)
safety.service.url.base=http://localhost:${wiremock.server.port:9999}
# configure an in-memory embedded kafka
kafka.enabled=true
spring.kafka.producer.bootstrap-servers=${spring.embedded.kafka.brokers}
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer

spring.kafka.consumer.bootstrap-servers=${spring.embedded.kafka.brokers}
spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer
spring.kafka.consumer.properties.spring.json.trusted.packages=victor.**
# avoid losing messages sent before test listener connects
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.group-id=test


logging.level.org.springframework.test.context.cache=DEBUG
